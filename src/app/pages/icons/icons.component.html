<div class="header bg-gradient-black pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Card stats -->
      <div class="row">
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Last Price</h5>
                  <span class="h2 font-weight-bold mb-0">{{lastPriceValue}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                    <i class="fas fa-chart-bar"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-success mr-2"><i class="fa fa-arrow-up"></i> 3.48%</span>
                <span class="text-nowrap">Since last month</span>
              </p>
            </div>
          </div>
        </div>
        

        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Volume</h5>
                  <span class="h2 font-weight-bold mb-0">2,356</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
                    <i class="fas fa-chart-pie"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-danger mr-2"><i class="fas fa-arrow-down"></i> 3.48%</span>
                <span class="text-nowrap">Since last week</span>
              </p>
            </div>
          </div>
        </div>


        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">change</h5>
                  <span class="h2 font-weight-bold mb-0">${{ changeValue | number: '1.2-2' }}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-yellow text-white rounded-circle shadow">
                    <i class="fas fa-users"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-warning mr-2"><i class="fas fa-arrow-down"></i> 1.10%</span>
                <span class="text-nowrap">Since yesterday</span>
              </p>
            </div>
          </div>
        </div>

        
        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Change %</h5>
                  <span class="h2 font-weight-bold mb-0">{{ percentageChangeValue | number: '1.2-2' }}%</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                    <i class="fas fa-percent"></i>
                  </div>
                </div>
              </div>
              <p class="mt-3 mb-0 text-muted text-sm">
                <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                <span class="text-nowrap">Since last month</span>
              </p>
            </div>
          </div>
        </div>


        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Enterprise</h5>
                  <span class="h2 font-weight-bold mb-0">{{enterpriseName}}</span>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                    <i class="fas fa-building"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        

        <div class="col-xl-3 col-lg-6">
          <div class="card card-stats mb-4 mb-xl-0">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title text-uppercase text-muted mb-0">Order Quantity</h5>
                  <!-- Bind the input to your Angular component's property -->
                  <input class="form-control" type="number" name="orderQuantity" [(ngModel)]="order.quantity" required>
                </div>
                <div class="col-auto">
                  <div class="icon icon-shape bg-success text-white rounded-circle shadow">
                    <i class="fas fa-shopping-cart"></i>
                  </div>
                </div>
              </div>
              <!-- Optionally, you can add feedback for the user -->
      <div class="mt-3 text-muted text-sm" *ngIf="order.quantity < 1">
        <span class="text-danger">Please enter a valid quantity.</span>
      </div>
            </div>
          </div>
        </div>

        

      </div>
    </div>
    <button class="btn btn-primary" type="button" [disabled]=" (percentageChangeValue === null || percentageChangeValue === undefined)" (click)="submitOrder()">Submit Order</button>

  </div>
    <!-- Error Message -->
    <div class="mt-3 text-shadow" *ngIf="errorMessage">
     <label> {{ errorMessage }}</label>
    </div>
</div>
<!-- Page content -->
<div class="container-fluid mt--7">
  <!-- Table -->
  <div class="row">
    <div class="col">
      <div class="card bg-gradient-default shadow">
        <div class="card-header bg-gradient-default shadow">
          <h3 class="mb-0">Data</h3>
          <span class="d-none d-md-block">Enterprise</span>
          <div id="percentageChange"></div>


 


        </div>
        <select [(ngModel)]="selectedStock" (change)="loadStockData()">
          <option *ngFor="let symbol of stockSymbols" [value]="symbol">{{ symbol }}</option>
        </select>
        
        <br>
        <div class="container">
          <canvas #chartCanvas width="700" height="600"></canvas>
        </div>



        <!-- Ajoutez cette partie pour afficher les images des articles -->
        <div *ngIf="articleData && articleData.length > 0">
          <h2>Articles</h2>
          <div *ngFor="let article of articleData">
            <div class="article">
              <h3>{{ article.title }}</h3>
              <p>{{ article.summary }}</p>
              <p>Published on: {{ article.time_published | date:'medium'}}</p>
              <p>Author: {{ article.authors.join(', ') }}</p>
              <p>URL: <a href="{{ article.url }}" target="_blank">{{ article.url }}</a></p>
              <img *ngIf="article.banner_image" [src]="article.banner_image" alt="Article Image" />
              <!-- Ajoutez d'autres informations que vous souhaitez afficher -->
            </div>
          </div>
        </div>
        
        <div *ngIf="!articleData || articleData.length === 0">
          <p>Aucun article trouv√© pour {{ selectedStock }}</p>
        </div>
        
        
        <div id="percentageChange"></div>

      </div>
    </div>
  </div>
</div>

